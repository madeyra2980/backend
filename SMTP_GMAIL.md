# Отправка писем верификации через Gmail (SMTP)

## 1. Пароль приложения в Google

Обычный пароль от Gmail для SMTP не подойдёт. Нужен **пароль приложения**:

1. Откройте [Google Account](https://myaccount.google.com/) → **Безопасность**.
2. Включите **Двухэтапную аутентификацию** (если ещё не включена).
3. В разделе «Вход в Google» нажмите **Пароли приложений**.
4. Выберите «Почта» и устройство (например, «Другое» → введите «Komek backend»).
5. Скопируйте сгенерированный **16-символьный пароль** (без пробелов).

## 2. Переменные в `.env`

В папке `backend` создайте или дополните файл `.env`:

```env
# Gmail SMTP (для писем верификации)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=0
SMTP_USER=ваш_email@gmail.com
SMTP_PASS=xxxx xxxx xxxx xxxx
SMTP_FROM=ваш_email@gmail.com
```

- **SMTP_USER** — полный Gmail (логин).
- **SMTP_PASS** — пароль приложения из шага 1 (можно с пробелами или без).
- **SMTP_FROM** — обычно тот же `SMTP_USER`; можно не указывать.

Порт **587** и **SMTP_SECURE=0** — стандартная настройка для Gmail (STARTTLS).

## 3. Установка зависимости

В папке `backend`:

```bash
npm install
```

Пакет `nodemailer` уже указан в `package.json`.

## 4. Проверка

После запуска бэкенда при регистрации нового пользователя письмо с ссылкой верификации должно уходить на указанный email. Если SMTP не настроен или произошла ошибка, ссылка будет выведена в консоль сервера.
